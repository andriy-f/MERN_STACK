{"version":3,"sources":["webpack:///./static/src/DateInput.jsx"],"names":["DateInput","Component","constructor","props","state","value","editFormat","focused","valid","onFocus","bind","onBlur","onChange","componentWillReceiveProps","newProps","setState","e","unformat","onValidityChange","target","match","displayFormat","date","Date","toDateString","str","val","isNaN","getTime","render","childProps","Object","assign","propTypes","string","func","isRequired","name"],"mappings":"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","file":"0.84ba2dd27cfb74d59a0b.hot-update.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class DateInput extends React.Component{\n  constructor(props){\n    super(props);\n  //  console.log(props.value);\n//    console.log(typeof props.value);\n\n    this.state = { value: this.editFormat(props.value),\n                  focused: false, valid: true};\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentWillReceiveProps(newProps){\n    if(newProps.value !== this.props.value ){\n      this.setState({value: this.editFormat(newProps.value)});\n    }\n  }\n\n  onFocus(){\n    this.setState({focused: true});\n  }\n\n  onBlur(e){\n    const value = this.unformat(this.state.value);\n    const valid = this.state.value === '' || value != null;\n\n    if(valid !== this.state.valid && this.props.onValidityChange){\n        this.props.onValidityChange(e, valid);\n    }\n    this.setState({focused: false, valid});\n    if(valid) this.props.onChange(e,value);\n  }\n\n  onChange(e){\n    if(e.target.value.match(/^[\\d-]*$/)){\n      this.setState({value: e.target.value});\n    }\n  }\n\n  displayFormat(date){\n    return (date != null && date !== '') ? new Date(date).toDateString() : '';\n  }\n\n  editFormat(date){\n    // var myDate = Date.now(); // Date.now() returns a string, so you can't call toDateString() again on a string\n    return (date != null && date !== '') ? new Date(date).toDateString() : '';\n  }\n\n  unformat(str){\n    const val = new Date(str);\n    return isNaN(val.getTime()) ? null : val;\n  }\n\n  render(){\n\n     const value = (this.state.focused || !this.state.valid) ?\n     this.state.value : this.displayFormat(this.props.value);\n     const childProps = Object.assign({}, this.props);\n     delete childProps.onValidityChange;\n     return (\n       <input type=\"text\"{...childProps}\n      value={value} placeholder={this.state.focused ? 'yyyy-mm-dd' : null}\n     onFocus={this.onFocus} onBlur={this.onBlur} onChange={this.onChange} />\n   );\n  }\n}\n\nDateInput.propTypes = {\n  value: PropTypes.string,\n  onChange: PropTypes.func.isRequired,\n  onValidityChange: PropTypes.func,\n  name: PropTypes.string.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./static/src/DateInput.jsx"],"sourceRoot":""}