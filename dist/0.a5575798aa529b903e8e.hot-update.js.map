{"version":3,"sources":["webpack:///./server/renderedPageRouter.jsx"],"names":["renderedPageRouter","get","req","res","routes","location","url","error","redirectLocation","renderProps","console","log","status","send","message","redirect","pathname","search","fetch","then","response","json","data","initialState","html","catch","err"],"mappings":";;;;;;;;;;;;;AAAA;;;;AACA;;AACA;;AAEA;;;;AAGA;;;;AACA;;;;AACA;;;;;;AAEA,MAAMA,qBAAqB,uBAA3B;;AALA;;;AAQAA,mBAAmBC,GAAnB,CAAuB,GAAvB,EAA4B,CAACC,GAAD,EAAMC,GAAN,KAAa;AACvC,0BAAM,EAACC,wBAAD,EAASC,UAAUH,IAAII,GAAvB,EAAN,EAAmC,CAACC,KAAD,EAAQC,gBAAR,EAA0BC,WAA1B,KAAyC;AAC1E,QAAGF,KAAH,EAAS;AACPG,cAAQC,GAAR,CAAY,4BAAZ,EAA0CJ,KAA1C;AACAJ,UAAIS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBN,MAAMO,OAA3B;AACD,KAHD,MAGO,IAAGN,gBAAH,EAAoB;AACzBE,cAAQC,GAAR,CAAY,wCAAZ,EAAsDH,gBAAtD;AACAL,UAAIY,QAAJ,CAAa,GAAb,EAAkBP,iBAAiBQ,QAAjB,GAA4BR,iBAAiBS,MAA/D;AACD,KAHM,MAGA,IAAGR,WAAH,EAAe;AACpBS,YAAO,4BAA2BhB,IAAII,GAAI,EAA1C,EACCa,IADD,CACMC,YAAaA,SAASC,IAAT,EADnB,EAECF,IAFD,CAEMG,QAAO;AACXZ,gBAAQC,GAAR,CAAY,oBAAZ,EAAkCW,IAAlC;AACA,cAAMC,eAAe,EAACD,UAAD,EAArB;AACA,cAAME,OAAO,4BACX;AAAA;AAAA,YAAgB,cAAcD,YAA9B;AACE,oEAAmBd,WAAnB;AADF,SADW,CAAb;AAKAN,YAAIS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,wBAASW,IAAT,EAAeD,YAAf,CAArB;AACD,OAXD,EAWGE,KAXH,CAWSC,OAAK;AACZhB,gBAAQC,GAAR,CAAa,+BAA8Be,GAAI,EAA/C;AACD,OAbD;AAcD,KAfM,MAeD;AACJvB,UAAIS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,WAArB;AACD;AACF,GAzBD;AA0BA;AACA;AACA;AACD,CA9BD;kBA+Beb,kB","file":"0.a5575798aa529b903e8e.hot-update.js","sourcesContent":["import React from 'react';\nimport {renderToString } from 'react-dom/server.js';\nimport {match, RouterContext } from 'react-router';\n\nimport Router from 'express';\n\n//import HelloWorld from '../static/src/HelloWorld.jsx';\nimport template from './template.js';\nimport routes from '../static/src/Routes.jsx';\nimport ContextWrapper from '../static/src/ContextWrapper.jsx';\n\nconst renderedPageRouter = new Router();\n\n\nrenderedPageRouter.get('*', (req, res) =>{\n  match({routes, location: req.url}, (error, redirectLocation, renderProps) =>{\n    if(error){\n      console.log(\" there is an error here : \", error);\n      res.status(500).send(error.message);\n    } else if(redirectLocation){\n      console.log(\" there is the redirectLocation here : \", redirectLocation);\n      res.redirect(302, redirectLocation.pathname + redirectLocation.search);\n    } else if(renderProps){\n      fetch(`http://localhost:3000/api${req.url}`)\n      .then(response => (response.json()))\n      .then(data =>{\n        console.log(\" The data is here \", data);\n        const initialState = {data};\n        const html = renderToString(\n          <ContextWrapper initialState={initialState} >\n            <RouterContext {...renderProps} />\n          </ContextWrapper>\n        );\n        res.status(200).send(template(html, initialState));\n      }).catch(err=>{\n        console.log(`Error rendering to string : ${err}`);\n      });\n    }else {\n      res.status(404).send('Not Found');\n    }\n  });\n  // const initialState = {addressee: 'Universe'};\n  // const html = renderToString(<HelloWorld {...initialState} />);\n  // res.send(template(html, initialState));\n});\nexport default renderedPageRouter;\n\n\n\n// WEBPACK FOOTER //\n// ./server/renderedPageRouter.jsx"],"sourceRoot":""}